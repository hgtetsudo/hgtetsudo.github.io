<!DOCTYPE html>
<html>

<head>
    <title>HG鉄道仮部 | ツール/スジ</title>
            <script>
document.addEventListener('DOMContentLoaded', function() {

  // Hide all body children except scripts until login
  var pageChildren = Array.from(document.body.children);
  pageChildren.forEach(function(child) {
    if (child.tagName !== 'SCRIPT') child.style.display = 'none';
  });

  var form = document.createElement('form');
  form.id = 'login-form';
  form.style = 'margin:100px auto;max-width:300px;background:#eee;padding:20px;border-radius:10px;';
  form.innerHTML =
    '<h2>ログイン</h2>' +
    '<label>ユーザー名: <input type="text" id="username" required></label><br><br>' +
    '<label>パスワード: <input type="password" id="password" required></label><br><br>' +
    '<button type="submit">ログイン</button>';
  document.body.appendChild(form);

  form.onsubmit = async function(event) {
    event.preventDefault();
    var username = document.getElementById('username').value;
    var password = document.getElementById('password').value;
    try {
  var res = await fetch('/login/users.json', { cache: 'no-store' });
      var data = await res.json();
      var user = data.find(function(u) {
        return u.u === username && u.p === password;
      });
      if (user) {
        form.remove();
        pageChildren.forEach(function(child) {
          if (child.tagName !== 'SCRIPT') child.style.display = '';
        });
      } else {
        alert('ユーザー名またはパスワードが違います。');
      }
    } catch (e) {
      alert('ログイン情報の取得に失敗しました。');
    }
  };
});
</script>
  <!-- moved styles into /styles/site.css -->
</head>

<body>
  <div data-include="/includes/header.html" data-fallback="<a href='/index.html'>HG鉄道仮部</a>"></div>
  <marquee id="site-marquee" scrollamount="15">HG鉄道仮部へようこそ。</marquee>
    <hr>

    <a href="/tool/index.html"><button>戻る</button></a>
  <div class="mt-10">
        <h2>スジ一覧</h2>
        <ul>
            <li>
                10/9
                <ul>
                    <li><a href="sujitakusan/20251009_ef81_140.html">EF81-140 DE10 AT入場に伴う 牽引機送り込み</a></li>
                </ul>
            </li>
            <li>10/4
                <ul>
                    <li><a href="sujitakusan/20251004_sotetsu.html">相鉄13000系8B J-TREC出場甲種</a></li>
                </ul>
            </li>
        </ul>
    </div>

  <div data-include="/includes/footer.html" data-fallback="&copy; HG鉄道仮部"></div>
  <script src="/scripts/include-loader.js"></script>
</body>

</html>